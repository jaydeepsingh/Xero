package com.xero.SignUP;

import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.NoSuchWindowException;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

public class Login {

	
	WebDriver driver;
	
	  @BeforeTest
	  public void beforeTest() {
		  driver= new FirefoxDriver();
		  driver.get("https://login.xero.com/");
	  }

	  @AfterTest(enabled=false)
	  public void afterTest() {
		  
	  }
	  
	  @Test
	  public void checkdropdown() {
	  
		
		  WebElement w;
		  w =  driver.findElement(By.xpath("//input[@id='email']"));
		  w.clear();  
		  w.sendKeys("jaydeep.bhati@adp.com"); 
		  
		  w= driver.findElement(By.xpath("//input[@id='password']"));
		  w.clear();  
		  w.sendKeys("adpadp10"); 
		  
		  try {
		  driver.findElement(By.xpath("//a[@id='submitButton']")).click();
		  Thread.sleep(15000);
		  //driver.findElement(By.xpath("//a[@id='Accounts']")).click();
		  driver.findElement(By.xpath("//li[@tabindex='0']")).click();
		
		  java.util.Set<String> allWindows = driver.getWindowHandles();
		  if(!allWindows.isEmpty()) {
			  for (String windowId : allWindows) {
				  	try {
				  			//Switch to the Help Popup Browser Window
				  		driver.switchTo().window(windowId);
				  		driver.findElement(By.xpath("//a[@href='/Accounts/Receivable/Dashboard/']")).click(); 
				  		//Thread.sleep(3000);
				  	} catch (NoSuchWindowException e) {
				  		e.printStackTrace();
				  	}
			  }
		  }
		  
		  } catch (InterruptedException e) {
				e.printStackTrace();
				System.out.println("not found accounts");
			}
			 
		 
	 }
}
	
